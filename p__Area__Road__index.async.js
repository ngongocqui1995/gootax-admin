"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[967],{94149:function(X,O,a){a.d(O,{Z:function(){return B}});var D=a(1413),E=a(67294),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},A=w,Y=a(91146),$=function(H,N){return E.createElement(Y.Z,(0,D.Z)((0,D.Z)({},H),{},{ref:N,icon:A}))};$.displayName="LockOutlined";var B=E.forwardRef($)},75103:function(X,O,a){a.r(O),a.d(O,{default:function(){return Re}});var D=a(11774),E=a(67294),w=a(15009),A=a.n(w),Y=a(99289),$=a.n(Y),B=a(97857),I=a.n(B),H=a(5574),N=a.n(H),b=a(5914),q=a(42075),_=a(4393),Z=a(83067),K=a(57813),t=a(62492),G=a(952),U=a(97462),P=a(32610),V=a(2129),e=a(85893),ee={labelCol:{span:6},wrapperCol:{span:14}},ae=function(){var i,x,C=(0,P.useDispatch)(),c=(0,P.useIntl)(),r=(0,P.useSelector)(function(v){return v==null?void 0:v.road}),u=(0,E.useState)(!1),n=N()(u,2),s=n[0],l=n[1],g=(0,E.useRef)(null),L=G.ZP.useForm(),R=N()(L,1),m=R[0];(0,E.useEffect)(function(){(function(){var v,d;if((v=r.RoadForm)!==null&&v!==void 0&&v.type){var p,y;if(((p=r.RoadForm)===null||p===void 0?void 0:p.type)===t.Kg.CREATE&&m.resetFields(),[t.Kg.UPDATE,t.Kg.COPY].includes((y=r.RoadForm)===null||y===void 0?void 0:y.type)){var F,j,f;m.setFieldsValue(I()(I()({},r.RoadForm.itemEdit),{},{province:(F=r.RoadForm.itemEdit)===null||F===void 0?void 0:F.province.id,district:(j=r.RoadForm.itemEdit)===null||j===void 0?void 0:j.district.id,ward:(f=r.RoadForm.itemEdit)===null||f===void 0?void 0:f.ward.id}))}}l(!!((d=r.RoadForm)!==null&&d!==void 0&&d.type))})()},[(i=r.RoadForm)===null||i===void 0?void 0:i.type]);var ye=function(){var d,p,y,F;if((d=r.RoadForm)!==null&&d!==void 0&&d.type)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Z.Ig,{type:(p=r.RoadForm)===null||p===void 0?void 0:p.type,defaultOptions:[{value:((y=r.RoadForm.itemEdit)===null||y===void 0?void 0:y.province.id)||"",label:((F=r.RoadForm.itemEdit)===null||F===void 0?void 0:F.province.name)||""}],fieldProps:{onChange:function(){m.setFieldsValue({district:void 0})}}}),(0,e.jsx)(U.Z,{name:["province"],children:function(f){var h,T,M,o,S,k=f.province;return(0,e.jsx)(Z.aQ,{params:{province:k},type:(h=r.RoadForm)===null||h===void 0?void 0:h.type,defaultOptions:[{value:((T=r.RoadForm)===null||T===void 0||(M=T.itemEdit)===null||M===void 0?void 0:M.district.id)||"",label:((o=r.RoadForm)===null||o===void 0||(S=o.itemEdit)===null||S===void 0?void 0:S.district.name)||""}]})}}),(0,e.jsx)(U.Z,{name:["province","district"],children:function(f){var h,T,M,o,S,k=f.province,xe=f.district;return(0,e.jsx)(Z.cJ,{params:{province:k,district:xe},type:(h=r.RoadForm)===null||h===void 0?void 0:h.type,defaultOptions:[{value:((T=r.RoadForm)===null||T===void 0||(M=T.itemEdit)===null||M===void 0?void 0:M.ward.id)||"",label:((o=r.RoadForm)===null||o===void 0||(S=o.itemEdit)===null||S===void 0?void 0:S.ward.name)||""}]})}}),(0,e.jsx)(Z.HD,{})]})},W=function(){C({type:"road/updateRoadForm",payload:{type:""}}),m.resetFields()},Fe=function(){var d;switch((d=r.RoadForm)===null||d===void 0?void 0:d.type){case t.Kg.CREATE:case t.Kg.COPY:return c.formatMessage({id:"pages.Area.Road.RoadForm.Create.title",defaultMessage:"Th\xEAm m\u1EDBi ph\u01B0\u1EDDng/x\xE3"});case t.Kg.UPDATE:return c.formatMessage({id:"pages.Area.Road.RoadForm.Update.title",defaultMessage:"C\u1EADp nh\u1EADt ph\u01B0\u1EDDng/x\xE3"});default:return""}},Te=function(){var d;switch((d=r.RoadForm)===null||d===void 0?void 0:d.type){case t.Kg.CREATE:case t.Kg.COPY:return c.formatMessage({id:"pages.Area.Road.RoadForm.Create.submitText",defaultMessage:"T\u1EA1o m\u1EDBi"});case t.Kg.UPDATE:return c.formatMessage({id:"pages.Area.Road.RoadForm.Update.submitText",defaultMessage:"C\u1EADp nh\u1EADt"});default:return""}};return(0,e.jsx)(b.Z,{width:800,title:Fe(),forceRender:!0,destroyOnClose:!0,visible:s,onCancel:W,footer:!1,children:(0,e.jsx)("div",{ref:g,children:(0,e.jsx)(G.ZP,I()(I()({form:m},ee),{},{layout:"horizontal",onFinish:function(){var v=$()(A()().mark(function d(p){var y,F,j,f,h,T;return A()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:F=I()({code:(0,K.uz)(p.name)},p),o.t0=(y=r.RoadForm)===null||y===void 0?void 0:y.type,o.next=o.t0===t.Kg.COPY||o.t0===t.Kg.CREATE?4:o.t0===t.Kg.UPDATE?8:12;break;case 4:return o.next=6,(0,V.vj)(F);case 6:return j=o.sent,o.abrupt("break",12);case 8:return o.next=10,(0,V.lR)(((f=r.RoadForm.itemEdit)===null||f===void 0?void 0:f.id)||"",F);case 10:return j=o.sent,o.abrupt("break",12);case 12:j&&(W(),(h=r.RoadList)===null||h===void 0||(T=h.reload)===null||T===void 0||T.call(h));case 13:case"end":return o.stop()}},d)}));return function(d){return v.apply(this,arguments)}}(),submitter:{render:function(d,p){return(0,e.jsx)(q.Z,{className:"flex justify-end mt-4",children:p})},searchConfig:{submitText:Te(),resetText:c.formatMessage({id:"pages.Area.Road.RoadForm.resetText",defaultMessage:"L\xE0m m\u1EDBi"})},resetButtonProps:{className:[t.Kg.UPDATE].includes((x=r.RoadForm)===null||x===void 0?void 0:x.type)?"hidden":""}},children:(0,e.jsx)(_.Z,{children:ye()})}))})})},re=ae,te=a(65987),oe=a(51767),ne=a(94149),de=a(7842),J=a(9625),ie=a(66309),Q=a(83062),se=a(72269),le=function(i){var x=i.status,C=i.record,c=(0,P.useSelector)(function(u){return u==null?void 0:u.road}),r=function(){var u=$()(A()().mark(function n(s){var l,g,L;return A()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,V.qp)(C.id,s?"ACTIVE":"INACTIVE");case 2:L=m.sent,L&&((l=c.RoadList)===null||l===void 0||(g=l.reload)===null||g===void 0||g.call(l));case 4:case"end":return m.stop()}},n)}));return function(s){return u.apply(this,arguments)}}();return(0,e.jsx)(se.Z,{checked:x==="ACTIVE",onChange:r})},ue=le,ce=a(51042),ve=a(15867),me=function(){var i=(0,P.useDispatch)(),x=(0,J.Z)(),C=function(){i({type:"road/updateRoadForm",payload:{type:t.Kg.CREATE}})};return(0,e.jsx)(ve.ZP,{className:"".concat(x.className([t.Kg.CREATE])),type:"primary",onClick:C,icon:(0,e.jsx)(ce.Z,{}),children:(0,e.jsx)(P.FormattedMessage,{id:"pages.create",defaultMessage:"T\u1EA1o m\u1EDBi"})})},pe=me,fe=function(){var i=(0,P.useIntl)(),x=(0,E.useRef)(),C=(0,P.useDispatch)(),c=(0,J.Z)();(0,E.useEffect)(function(){C({type:"road/updateRoadList",payload:{reload:function(){var n;return(n=x.current)===null||n===void 0?void 0:n.reload()}}})},[]);var r=[{title:i.formatMessage({id:"pages.keyword",defaultMessage:"T\xECm theo"}),dataIndex:"keyword",hideInTable:!0,formItemProps:{tooltip:i.formatMessage({id:"pages.Area.Road.RoadList.tooltip",defaultMessage:"B\u1EA1n c\xF3 th\u1EC3 t\xECm ki\u1EBFm theo t\xEAn."})},fieldProps:{placeholder:i.formatMessage({id:"pages.Area.Road.RoadList.placeholder",defaultMessage:"Nh\u1EADp m\xE3, t\xEAn."})}},{title:"T\u1EC9nh/Th\xE0nh ph\u1ED1",dataIndex:["province","name"],key:"province",width:150,fieldProps:{placeholder:"Ch\u1ECDn t\u1EC9nh/th\xE0nh ph\u1ED1"},renderFormItem:function(n,s,l){return(0,e.jsx)(Z.Ig,{noStyle:!0,rules:[],fieldProps:{onChange:function(){l.setFieldsValue({district:void 0,ward:void 0})}}})},valueType:"select"},{title:"Qu\u1EADn/Huy\u1EC7n",dataIndex:["district","name"],key:"district",width:150,fieldProps:{placeholder:"Ch\u1ECDn qu\u1EADn/huy\u1EC7n"},renderFormItem:function(n,s,l){return(0,e.jsx)(U.Z,{name:["province"],children:function(L){var R=L.province;return(0,e.jsx)(Z.aQ,{params:{province:R},noStyle:!0,rules:[],fieldProps:{onChange:function(){l.setFieldsValue({ward:void 0})}}})}})},valueType:"select"},{title:"Ph\u01B0\u1EDDng/X\xE3",dataIndex:["ward","name"],key:"ward",width:150,fieldProps:{placeholder:"Ch\u1ECDn ph\u01B0\u1EDDng/x\xE3"},renderFormItem:function(){return(0,e.jsx)(U.Z,{name:["province","district"],children:function(s){var l=s.province,g=s.district;return(0,e.jsx)(Z.cJ,{params:{province:l,district:g},noStyle:!0,rules:[]})}})},valueType:"select"},{title:"M\xE3 ph\u01B0\u1EDDng/x\xE3",dataIndex:"code",width:120,search:!1,renderText:function(n){return n&&(0,e.jsx)(ie.Z,{color:"default",children:n})}},{title:"T\xEAn ph\u01B0\u1EDDng/x\xE3",dataIndex:"name",width:150,search:!1},{title:i.formatMessage({id:"pages.createdAt",defaultMessage:"Ng\xE0y t\u1EA1o"}),dataIndex:"createdAt",valueType:"dateTime",width:150,search:!1,sorter:!0},{title:i.formatMessage({id:"pages.updatedAt",defaultMessage:"Ng\xE0y c\u1EADp nh\u1EADt"}),dataIndex:"updatedAt",valueType:"dateTime",width:150,search:!1,sorter:!0},{title:i.formatMessage({id:"pages.status",defaultMessage:"Tr\u1EA1ng th\xE1i"}),dataIndex:"status",width:100,renderText:function(n,s){return(0,e.jsx)(ue,{status:n,record:s})},fieldProps:{placeholder:i.formatMessage({id:"pages.status.placeholder",defaultMessage:"Ch\u1ECDn tr\u1EA1ng th\xE1i."})},valueType:"select",valueEnum:(0,K.Z0)(),hideInTable:!c.accessible([t.Kg.UPDATE_STATUS])},{title:i.formatMessage({id:"pages.options",defaultMessage:"Tu\u1EF3 ch\u1EC9nh"}),dataIndex:"option",valueType:"option",align:"center",fixed:"right",width:90,hideInTable:!c.accessible([t.Kg.UPDATE,t.Kg.COPY]),render:function(n,s){return[(0,e.jsx)(Q.Z,{className:"".concat(c.className([t.Kg.UPDATE])),title:(0,K.sb)(),color:"cyan",placement:"left",children:(0,e.jsx)("a",{onClick:function(){C({type:"road/updateRoadForm",payload:{itemEdit:s,type:t.Kg.UPDATE}})},children:(0,e.jsx)(te.Z,{style:{fontSize:"16px",color:"#08c"}})})},"update-road"),(0,e.jsx)(Q.Z,{className:"".concat(c.className([t.Kg.COPY])),title:(0,K.wn)(),color:"cyan",placement:"left",children:(0,e.jsx)("a",{onClick:function(){C({type:"road/updateRoadForm",payload:{itemEdit:s,type:t.Kg.COPY}})},children:(0,e.jsx)(oe.Z,{style:{fontSize:"16px",color:"#08c"}})})},"copy-road"),(0,e.jsx)(Q.Z,{className:"".concat(c.className([t.Kg.UPDATE_PASSWORD])),title:(0,K.iL)(),color:"cyan",placement:"left",children:(0,e.jsx)("a",{onClick:function(){C({type:"road/updateRoadForm",payload:{itemEdit:s,type:t.Kg.UPDATE_PASSWORD}})},children:(0,e.jsx)(ne.Z,{style:{fontSize:"16px",color:"red"}})})},"change-password-road")]}}];return(0,e.jsx)("div",{children:(0,e.jsx)(de.ZP,{headerTitle:i.formatMessage({id:"pages.Area.Road.RoadList.headerTitle",defaultMessage:"Danh s\xE1ch \u0111\u01B0\u1EDDng"}),search:{layout:"vertical"},actionRef:x,rowKey:"id",sticky:!0,pagination:I()({},K.Uj),request:function(){var u=$()(A()().mark(function n(s,l,g){return A()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,V.YL)(s,l,g);case 2:return R.abrupt("return",R.sent);case 3:case"end":return R.stop()}},n)}));return function(n,s,l){return u.apply(this,arguments)}}(),toolBarRender:function(){return[(0,e.jsx)(pe,{},"create-road")]},columns:r,scroll:K.V5})})},he=fe,ge=function(){return(0,e.jsxs)(D._z,{children:[(0,e.jsx)(he,{}),(0,e.jsx)(re,{})]})},Re=ge}}]);
