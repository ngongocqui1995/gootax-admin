"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[292],{94149:function(G,D,e){e.d(D,{Z:function(){return $}});var K=e(1413),x=e(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},C=O,R=e(91146),M=function(U,L){return x.createElement(R.Z,(0,K.Z)((0,K.Z)({},U),{},{ref:L,icon:C}))};M.displayName="LockOutlined";var $=x.forwardRef(M)},56266:function(G,D,e){e.r(D),e.d(D,{default:function(){return me}});var K=e(11774),x=e(67294),O=e(15009),C=e.n(O),R=e(99289),M=e.n(R),$=e(97857),F=e.n($),U=e(5574),L=e.n(U),J=e(5914),Q=e(42075),X=e(4393),N=e(83067),j=e(57813),a=e(62492),H=e(952),E=e(32610),S=e(16654),t=e(85893),b={labelCol:{span:6},wrapperCol:{span:14}},w=function(){var r,g,V=(0,E.useDispatch)(),o=(0,E.useIntl)(),i=(0,E.useSelector)(function(c){return c==null?void 0:c.vehicle}),s=(0,x.useState)(!1),n=L()(s,2),u=n[0],h=n[1],P=(0,x.useRef)(null),A=H.ZP.useForm(),T=L()(A,1),y=T[0];(0,x.useEffect)(function(){(function(){var c,l;if((c=i.VehicleForm)!==null&&c!==void 0&&c.type){var v,m;if(((v=i.VehicleForm)===null||v===void 0?void 0:v.type)===a.Kg.CREATE&&y.resetFields(),[a.Kg.UPDATE,a.Kg.COPY].includes((m=i.VehicleForm)===null||m===void 0?void 0:m.type)){var f,p;y.setFieldsValue(F()(F()({},i.VehicleForm.itemEdit),{},{company:(f=i.VehicleForm.itemEdit)===null||f===void 0||(p=f.company)===null||p===void 0?void 0:p.id}))}}h(!!((l=i.VehicleForm)!==null&&l!==void 0&&l.type))})()},[(r=i.VehicleForm)===null||r===void 0?void 0:r.type]);var fe=function(){var l,v,m,f,p;if((l=i.VehicleForm)!==null&&l!==void 0&&l.type)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.Uk,{type:i.VehicleForm.type,defaultOptions:[{value:((v=i.VehicleForm.itemEdit)===null||v===void 0||(m=v.company)===null||m===void 0?void 0:m.id)||"",label:((f=i.VehicleForm.itemEdit)===null||f===void 0||(p=f.company)===null||p===void 0?void 0:p.name)||""}]}),(0,t.jsx)(N.HD,{})]})},W=function(){V({type:"vehicle/updateVehicleForm",payload:{type:""}}),y.resetFields()},pe=function(){var l;switch((l=i.VehicleForm)===null||l===void 0?void 0:l.type){case a.Kg.CREATE:case a.Kg.COPY:return o.formatMessage({id:"pages.Device.Vehicle.VehicleForm.Create.title",defaultMessage:"Th\xEAm m\u1EDBi d\xF2ng xe"});case a.Kg.UPDATE:return o.formatMessage({id:"pages.Device.Vehicle.VehicleForm.Update.title",defaultMessage:"C\u1EADp nh\u1EADt d\xF2ng xe"});default:return""}},ge=function(){var l;switch((l=i.VehicleForm)===null||l===void 0?void 0:l.type){case a.Kg.CREATE:case a.Kg.COPY:return o.formatMessage({id:"pages.Device.Vehicle.VehicleForm.Create.submitText",defaultMessage:"T\u1EA1o m\u1EDBi"});case a.Kg.UPDATE:return o.formatMessage({id:"pages.Device.Vehicle.VehicleForm.Update.submitText",defaultMessage:"C\u1EADp nh\u1EADt"});default:return""}};return(0,t.jsx)(J.Z,{width:600,title:pe(),forceRender:!0,destroyOnClose:!0,visible:u,onCancel:W,footer:!1,children:(0,t.jsx)("div",{ref:P,children:(0,t.jsx)(H.ZP,F()(F()({form:y},b),{},{layout:"horizontal",onFinish:function(){var c=M()(C()().mark(function l(v){var m,f,p,B,I,Y;return C()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:f=F()(F()({},v),{},{code:(0,j.uz)(v.name)}),d.t0=(m=i.VehicleForm)===null||m===void 0?void 0:m.type,d.next=d.t0===a.Kg.COPY||d.t0===a.Kg.CREATE?4:d.t0===a.Kg.UPDATE?8:12;break;case 4:return d.next=6,(0,S.Wg)(f);case 6:return p=d.sent,d.abrupt("break",12);case 8:return d.next=10,(0,S.$N)(((B=i.VehicleForm.itemEdit)===null||B===void 0?void 0:B.id)||"",f);case 10:return p=d.sent,d.abrupt("break",12);case 12:p&&(W(),(I=i.VehicleList)===null||I===void 0||(Y=I.reload)===null||Y===void 0||Y.call(I));case 13:case"end":return d.stop()}},l)}));return function(l){return c.apply(this,arguments)}}(),submitter:{render:function(l,v){return(0,t.jsx)(Q.Z,{className:"flex justify-end mt-4",children:v})},searchConfig:{submitText:ge(),resetText:o.formatMessage({id:"pages.Device.Vehicle.VehicleForm.resetText",defaultMessage:"L\xE0m m\u1EDBi"})},resetButtonProps:{className:[a.Kg.UPDATE,a.Kg.UPDATE_PASSWORD].includes((g=i.VehicleForm)===null||g===void 0?void 0:g.type)?"hidden":""}},children:(0,t.jsx)(X.Z,{children:fe()})}))})})},q=w,_=e(65987),ee=e(51767),te=e(94149),ae=e(7842),k=e(9625),ie=e(66309),z=e(83062),le=e(72269),re=function(r){var g=r.status,V=r.record,o=(0,E.useSelector)(function(s){return s==null?void 0:s.vehicle}),i=function(){var s=M()(C()().mark(function n(u){var h,P,A;return C()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,S.du)(V.id,u?"ACTIVE":"INACTIVE");case 2:A=y.sent,A&&((h=o.VehicleList)===null||h===void 0||(P=h.reload)===null||P===void 0||P.call(h));case 4:case"end":return y.stop()}},n)}));return function(u){return s.apply(this,arguments)}}();return(0,t.jsx)(le.Z,{checked:g==="ACTIVE",onChange:i})},ne=re,se=e(51042),oe=e(15867),ce=function(){var r=(0,E.useDispatch)(),g=(0,k.Z)(),V=function(){r({type:"vehicle/updateVehicleForm",payload:{type:a.Kg.CREATE}})};return(0,t.jsx)(oe.ZP,{className:"".concat(g.className([a.Kg.CREATE])),type:"primary",onClick:V,icon:(0,t.jsx)(se.Z,{}),children:(0,t.jsx)(E.FormattedMessage,{id:"pages.create",defaultMessage:"T\u1EA1o m\u1EDBi"})})},de=ce,ue=function(){var r=(0,E.useIntl)(),g=(0,x.useRef)(),V=(0,E.useDispatch)(),o=(0,k.Z)();(0,x.useEffect)(function(){V({type:"vehicle/updateVehicleList",payload:{reload:function(){var n;return(n=g.current)===null||n===void 0?void 0:n.reload()}}})},[]);var i=[{title:r.formatMessage({id:"pages.keyword",defaultMessage:"T\xECm theo"}),dataIndex:"keyword",hideInTable:!0,formItemProps:{tooltip:r.formatMessage({id:"pages.Device.Vehicle.VehicleList.tooltip",defaultMessage:"B\u1EA1n c\xF3 th\u1EC3 t\xECm ki\u1EBFm theo t\xEAn."})},fieldProps:{placeholder:r.formatMessage({id:"pages.Device.Vehicle.VehicleList.placeholder",defaultMessage:"Nh\u1EADp m\xE3, t\xEAn."})}},{title:"H\xE3ng xe",dataIndex:["company","name"],key:"company",width:150,fieldProps:{placeholder:"Ch\u1ECDn h\xE3ng xe"},renderFormItem:function(){return(0,t.jsx)(N.Uk,{noStyle:!0,rules:[]})},valueType:"select"},{title:"M\xE3 d\xF2ng xe",dataIndex:"code",width:120,search:!1,renderText:function(n){return n&&(0,t.jsx)(ie.Z,{color:"default",children:n})}},{title:"T\xEAn d\xF2ng xe",dataIndex:"name",width:150,search:!1},{title:r.formatMessage({id:"pages.createdAt",defaultMessage:"Ng\xE0y t\u1EA1o"}),dataIndex:"createdAt",valueType:"dateTime",width:150,search:!1,sorter:!0},{title:r.formatMessage({id:"pages.updatedAt",defaultMessage:"Ng\xE0y c\u1EADp nh\u1EADt"}),dataIndex:"updatedAt",valueType:"dateTime",width:150,search:!1,sorter:!0},{title:r.formatMessage({id:"pages.status",defaultMessage:"Tr\u1EA1ng th\xE1i"}),dataIndex:"status",width:100,renderText:function(n,u){return(0,t.jsx)(ne,{status:n,record:u})},fieldProps:{placeholder:r.formatMessage({id:"pages.status.placeholder",defaultMessage:"Ch\u1ECDn tr\u1EA1ng th\xE1i."})},valueType:"select",valueEnum:(0,j.Z0)(),hideInTable:!o.accessible([a.Kg.UPDATE_STATUS])},{title:r.formatMessage({id:"pages.options",defaultMessage:"Tu\u1EF3 ch\u1EC9nh"}),dataIndex:"option",valueType:"option",align:"center",fixed:"right",width:90,hideInTable:!o.accessible([a.Kg.UPDATE,a.Kg.COPY]),render:function(n,u){return[(0,t.jsx)(z.Z,{className:"".concat(o.className([a.Kg.UPDATE])),title:(0,j.sb)(),color:"cyan",placement:"left",children:(0,t.jsx)("a",{onClick:function(){V({type:"vehicle/updateVehicleForm",payload:{itemEdit:u,type:a.Kg.UPDATE}})},children:(0,t.jsx)(_.Z,{style:{fontSize:"16px",color:"#08c"}})})},"update-vehicle"),(0,t.jsx)(z.Z,{className:"".concat(o.className([a.Kg.COPY])),title:(0,j.wn)(),color:"cyan",placement:"left",children:(0,t.jsx)("a",{onClick:function(){V({type:"vehicle/updateVehicleForm",payload:{itemEdit:u,type:a.Kg.COPY}})},children:(0,t.jsx)(ee.Z,{style:{fontSize:"16px",color:"#08c"}})})},"copy-vehicle"),(0,t.jsx)(z.Z,{className:"".concat(o.className([a.Kg.UPDATE_PASSWORD])),title:(0,j.iL)(),color:"cyan",placement:"left",children:(0,t.jsx)("a",{onClick:function(){V({type:"vehicle/updateVehicleForm",payload:{itemEdit:u,type:a.Kg.UPDATE_PASSWORD}})},children:(0,t.jsx)(te.Z,{style:{fontSize:"16px",color:"red"}})})},"change-password-vehicle")]}}];return(0,t.jsx)("div",{children:(0,t.jsx)(ae.ZP,{headerTitle:r.formatMessage({id:"pages.Device.Vehicle.VehicleList.headerTitle",defaultMessage:"Danh s\xE1ch ki\u1EC3u d\xE1ng xe"}),search:{layout:"vertical"},actionRef:g,rowKey:"id",sticky:!0,pagination:F()({},j.Uj),request:function(){var s=M()(C()().mark(function n(u,h,P){return C()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,S.EL)(u,h,P);case 2:return T.abrupt("return",T.sent);case 3:case"end":return T.stop()}},n)}));return function(n,u,h){return s.apply(this,arguments)}}(),toolBarRender:function(){return[(0,t.jsx)(de,{},"create-vehicle")]},columns:i,scroll:j.V5})})},he=ue,ve=function(){return(0,t.jsxs)(K._z,{children:[(0,t.jsx)(he,{}),(0,t.jsx)(q,{})]})},me=ve}}]);
