"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[519],{55287:function(X,F,e){var n=e(1413),i=e(67294),c=e(5717),v=e(91146),h=function(Y,C){return i.createElement(v.Z,(0,n.Z)((0,n.Z)({},Y),{},{ref:C,icon:c.Z}))};h.displayName="EyeOutlined",F.Z=i.forwardRef(h)},94149:function(X,F,e){e.d(F,{Z:function(){return Y}});var n=e(1413),i=e(67294),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},v=c,h=e(91146),f=function(w,E){return i.createElement(h.Z,(0,n.Z)((0,n.Z)({},w),{},{ref:E,icon:v}))};f.displayName="LockOutlined";var Y=i.forwardRef(f)},50335:function(X,F,e){e.d(F,{Z:function(){return k}});var n=e(1413),i=e(91),c=e(67294),v=e(66758),h=e(38118),f=e(85893),Y=["proFieldProps","fieldProps"],C="date",w=c.forwardRef(function(l,M){var j=l.proFieldProps,A=l.fieldProps,O=(0,i.Z)(l,Y),N=(0,c.useContext)(v.Z);return(0,f.jsx)(h.Z,(0,n.Z)({ref:M,valueType:C,fieldProps:(0,n.Z)({getPopupContainer:N.getPopupContainer},A),proFieldProps:j,filedConfig:{valueType:C,customLightMode:!0}},O))}),E=w,q=["proFieldProps","fieldProps"],G="dateMonth",_=c.forwardRef(function(l,M){var j=l.proFieldProps,A=l.fieldProps,O=(0,i.Z)(l,q),N=(0,c.useContext)(v.Z);return(0,f.jsx)(h.Z,(0,n.Z)({ref:M,valueType:G,fieldProps:(0,n.Z)({getPopupContainer:N.getPopupContainer},A),proFieldProps:j,filedConfig:{valueType:G,customLightMode:!0}},O))}),g=_,t=["fieldProps"],b="dateQuarter",te=c.forwardRef(function(l,M){var j=l.fieldProps,A=(0,i.Z)(l,t),O=(0,c.useContext)(v.Z);return(0,f.jsx)(h.Z,(0,n.Z)({ref:M,valueType:b,fieldProps:(0,n.Z)({getPopupContainer:O.getPopupContainer},j),filedConfig:{valueType:b,customLightMode:!0}},A))}),oe=te,re=["proFieldProps","fieldProps"],Z="dateWeek",ne=c.forwardRef(function(l,M){var j=l.proFieldProps,A=l.fieldProps,O=(0,i.Z)(l,re),N=(0,c.useContext)(v.Z);return(0,f.jsx)(h.Z,(0,n.Z)({ref:M,valueType:Z,fieldProps:(0,n.Z)({getPopupContainer:N.getPopupContainer},A),proFieldProps:j,filedConfig:{valueType:Z,customLightMode:!0}},O))}),ie=ne,J=["proFieldProps","fieldProps"],r="dateYear",le=c.forwardRef(function(l,M){var j=l.proFieldProps,A=l.fieldProps,O=(0,i.Z)(l,J),N=(0,c.useContext)(v.Z);return(0,f.jsx)(h.Z,(0,n.Z)({ref:M,valueType:r,fieldProps:(0,n.Z)({getPopupContainer:N.getPopupContainer},A),proFieldProps:j,filedConfig:{valueType:r,customLightMode:!0}},O))}),se=le,V=E;V.Week=ie,V.Month=g,V.Quarter=oe,V.Year=se,V.displayName="ProFormComponent";var k=V},31199:function(X,F,e){var n=e(1413),i=e(91),c=e(67294),v=e(38118),h=e(85893),f=["fieldProps","min","proFieldProps","max"],Y=function(E,q){var G=E.fieldProps,_=E.min,g=E.proFieldProps,t=E.max,b=(0,i.Z)(E,f);return(0,h.jsx)(v.Z,(0,n.Z)({valueType:"digit",fieldProps:(0,n.Z)({min:_,max:t},G),ref:q,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:g},b))},C=c.forwardRef(Y);F.Z=C},35722:function(X,F,e){e.r(F),e.d(F,{default:function(){return Le}});var n=e(11774),i=e(67294),c=e(15009),v=e.n(c),h=e(99289),f=e.n(h),Y=e(97857),C=e.n(Y),w=e(5574),E=e.n(w),q=e(5914),G=e(42075),_=e(4393),g=e(83067),t=e(62492),b=e(97462),te=e(31199),oe=e(50335),re=e(952),Z=e(32610),ne=e(27484),ie=e.n(ne),J=e(96174),r=e(85893),le={labelCol:{span:6},wrapperCol:{span:14}},se=function(){var s,$,W=(0,Z.useDispatch)(),P=(0,Z.useIntl)(),a=(0,Z.useSelector)(function(x){return x==null?void 0:x.car}),m=(0,i.useState)(!1),p=E()(m,2),d=p[0],y=p[1],H=(0,i.useRef)(null),ee=re.ZP.useForm(),B=E()(ee,1),I=B[0],Re=(0,i.useRef)();(0,i.useEffect)(function(){(function(){var x,u;if((x=a.CarForm)!==null&&x!==void 0&&x.type){var T,L;if(((T=a.CarForm)===null||T===void 0?void 0:T.type)===t.Kg.CREATE&&(I.resetFields(),I.setFieldsValue({year:Date.now(),seat:4})),[t.Kg.UPDATE,t.Kg.COPY].includes((L=a.CarForm)===null||L===void 0?void 0:L.type)){var R,S,K,D,U,z,o,Q;I.setFieldsValue(C()(C()({},a.CarForm.itemEdit),{},{company:(R=a.CarForm.itemEdit)===null||R===void 0||(S=R.company)===null||S===void 0?void 0:S.id,vehicle:(K=a.CarForm.itemEdit)===null||K===void 0||(D=K.vehicle)===null||D===void 0?void 0:D.id,type_car:(U=a.CarForm.itemEdit)===null||U===void 0||(z=U.type_car)===null||z===void 0?void 0:z.id,car_style:(o=a.CarForm.itemEdit)===null||o===void 0||(Q=o.car_style)===null||Q===void 0?void 0:Q.id}))}}y(!!((u=a.CarForm)!==null&&u!==void 0&&u.type))})()},[(s=a.CarForm)===null||s===void 0?void 0:s.type]);var Se=function(){var u,T,L,R,S,K,D,U,z,o,Q,ue,ce;if((u=a.CarForm)!==null&&u!==void 0&&u.type)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.ab,{ref:Re,folder:"avatar"}),(0,r.jsx)(g.Uk,{type:a.CarForm.type,defaultOptions:[{value:((T=a.CarForm.itemEdit)===null||T===void 0||(L=T.company)===null||L===void 0?void 0:L.id)||"",label:((R=a.CarForm.itemEdit)===null||R===void 0||(S=R.company)===null||S===void 0?void 0:S.name)||""}]}),(0,r.jsx)(b.Z,{name:["company"],children:function(ke){var ve,me,pe,fe,Ce,he,ge,Ne=ke.company;return(0,r.jsx)(g.Mz,{params:{company:Ne},type:(ve=a.CarForm)===null||ve===void 0?void 0:ve.type,defaultOptions:[{value:((me=a.CarForm)===null||me===void 0||(pe=me.itemEdit)===null||pe===void 0||(fe=pe.vehicle)===null||fe===void 0?void 0:fe.id)||"",label:((Ce=a.CarForm)===null||Ce===void 0||(he=Ce.itemEdit)===null||he===void 0||(ge=he.vehicle)===null||ge===void 0?void 0:ge.name)||""}]})}}),(0,r.jsx)(g.HD,{}),(0,r.jsx)(g.YN,{type:a.CarForm.type,defaultOptions:[{value:((K=a.CarForm.itemEdit)===null||K===void 0||(D=K.car_style)===null||D===void 0?void 0:D.id)||"",label:((U=a.CarForm.itemEdit)===null||U===void 0||(z=U.car_style)===null||z===void 0?void 0:z.name)||""}]}),(0,r.jsx)(te.Z,{label:"S\u1ED1 ch\u1ED7 ng\u1ED3i",name:"seat",rules:[{required:!0,message:"S\u1ED1 ch\u1ED7 ng\u1ED3i l\xE0 b\u1EAFt bu\u1ED9c!"}],placeholder:"Nh\u1EADp s\u1ED1 ch\u1ED7 ng\u1ED3i",allowClear:!1}),(0,r.jsx)(g.mu,{type:a.CarForm.type,defaultOptions:[{value:((o=a.CarForm.itemEdit)===null||o===void 0||(Q=o.type_car)===null||Q===void 0?void 0:Q.id)||"",label:((ue=a.CarForm.itemEdit)===null||ue===void 0||(ce=ue.type_car)===null||ce===void 0?void 0:ce.name)||""}]}),(0,r.jsx)(oe.Z,{label:"N\u0103m s\u1EA3n xu\u1EA5t",rules:[{required:!0,message:"N\u0103m s\u1EA3n xu\u1EA5t l\xE0 b\u1EAFt bu\u1ED9c!"}],placeholder:"Ch\u1ECDn n\u0103m s\u1EA3n xu\u1EA5t",name:"year",allowClear:!1,fieldProps:{picker:"year",format:"YYYY"}})]})},ye=function(){W({type:"car/updateCarForm",payload:{type:""}}),I.resetFields()},Ke=function(){var u;switch((u=a.CarForm)===null||u===void 0?void 0:u.type){case t.Kg.CREATE:case t.Kg.COPY:return P.formatMessage({id:"pages.Device.Car.CarForm.Create.title",defaultMessage:"Th\xEAm m\u1EDBi xe"});case t.Kg.UPDATE:return P.formatMessage({id:"pages.Device.Car.CarForm.Update.title",defaultMessage:"C\u1EADp nh\u1EADt xe"});default:return""}},Ue=function(){var u;switch((u=a.CarForm)===null||u===void 0?void 0:u.type){case t.Kg.CREATE:case t.Kg.COPY:return P.formatMessage({id:"pages.Device.Car.CarForm.Create.submitText",defaultMessage:"T\u1EA1o m\u1EDBi"});case t.Kg.UPDATE:return P.formatMessage({id:"pages.Device.Car.CarForm.Update.submitText",defaultMessage:"C\u1EADp nh\u1EADt"});default:return""}};return(0,r.jsx)(q.Z,{width:600,title:Ke(),forceRender:!0,destroyOnClose:!0,visible:d,onCancel:ye,footer:!1,children:(0,r.jsx)("div",{ref:H,children:(0,r.jsx)(re.ZP,C()(C()({form:I},le),{},{layout:"horizontal",onFinish:function(){var x=f()(v()().mark(function u(T){var L,R,S,K,D,U;return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:R=C()(C()({},T),{},{year:ie()(T.year).toISOString()}),o.t0=(L=a.CarForm)===null||L===void 0?void 0:L.type,o.next=o.t0===t.Kg.COPY||o.t0===t.Kg.CREATE?4:o.t0===t.Kg.UPDATE?8:12;break;case 4:return o.next=6,(0,J.DT)(R);case 6:return S=o.sent,o.abrupt("break",12);case 8:return o.next=10,(0,J.Bo)(((K=a.CarForm.itemEdit)===null||K===void 0?void 0:K.id)||"",R);case 10:return S=o.sent,o.abrupt("break",12);case 12:S&&(ye(),(D=a.CarList)===null||D===void 0||(U=D.reload)===null||U===void 0||U.call(D));case 13:case"end":return o.stop()}},u)}));return function(u){return x.apply(this,arguments)}}(),submitter:{render:function(u,T){return(0,r.jsx)(G.Z,{className:"flex justify-end mt-4",children:T})},searchConfig:{submitText:Ue(),resetText:P.formatMessage({id:"pages.Device.Car.CarForm.resetText",defaultMessage:"L\xE0m m\u1EDBi"})},resetButtonProps:{className:[t.Kg.UPDATE,t.Kg.UPDATE_PASSWORD].includes(($=a.CarForm)===null||$===void 0?void 0:$.type)?"hidden":""}},children:(0,r.jsx)(_.Z,{children:Se()})}))})})},V=se,k=e(57813),l=e(55287),M=e(65987),j=e(51767),A=e(94149),O=e(7842),N=e(9625),xe=e(1978),Pe=e(97776),de=e(83062),Fe=e(72269),Ee=function(s){var $=s.status,W=s.record,P=(0,Z.useSelector)(function(m){return m==null?void 0:m.car}),a=function(){var m=f()(v()().mark(function p(d){var y,H,ee;return v()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,J.w1)(W.id,d?"ACTIVE":"INACTIVE");case 2:ee=I.sent,ee&&((y=P.CarList)===null||y===void 0||(H=y.reload)===null||H===void 0||H.call(y));case 4:case"end":return I.stop()}},p)}));return function(d){return m.apply(this,arguments)}}();return(0,r.jsx)(Fe.Z,{checked:$==="ACTIVE",onChange:a})},Te=Ee,De=e(51042),Ze=e(15867),Me=function(){var s=(0,Z.useDispatch)(),$=(0,N.Z)(),W=function(){s({type:"car/updateCarForm",payload:{type:t.Kg.CREATE}})};return(0,r.jsx)(Ze.ZP,{className:"".concat($.className([t.Kg.CREATE])),type:"primary",onClick:W,icon:(0,r.jsx)(De.Z,{}),children:(0,r.jsx)(Z.FormattedMessage,{id:"pages.create",defaultMessage:"T\u1EA1o m\u1EDBi"})})},je=Me,Ae=function(){var s=(0,Z.useIntl)(),$=(0,i.useRef)(),W=(0,Z.useDispatch)(),P=(0,N.Z)();(0,i.useEffect)(function(){W({type:"car/updateCarList",payload:{reload:function(){var p;return(p=$.current)===null||p===void 0?void 0:p.reload()}}})},[]);var a=[{title:s.formatMessage({id:"pages.keyword",defaultMessage:"T\xECm theo"}),dataIndex:"keyword",hideInTable:!0,formItemProps:{tooltip:s.formatMessage({id:"pages.Device.Car.CarList.tooltip",defaultMessage:"B\u1EA1n c\xF3 th\u1EC3 t\xECm ki\u1EBFm theo t\xEAn."})},fieldProps:{placeholder:s.formatMessage({id:"pages.Device.Car.CarList.placeholder",defaultMessage:"Nh\u1EADp t\xEAn."})}},{title:s.formatMessage({id:"pages.avatar",defaultMessage:"\u1EA2nh"}),dataIndex:"avatar",width:120,search:!1,render:function(p,d){return(0,r.jsx)("a",{className:xe.Z.avatar,children:(0,r.jsx)(Pe.Z,{placeholder:(0,r.jsx)(Pe.Z,{height:t.er.height,src:"error",fallback:k.gL}),preview:{mask:(0,r.jsx)(l.Z,{})},height:t.er.height,width:t.er.width,src:(d==null?void 0:d.avatar)||"",fallback:k.gL})})}},{title:"T\xEAn xe",dataIndex:"name",width:150,search:!1},{title:"H\xE3ng xe",dataIndex:["company","name"],key:"company",width:150,fieldProps:{placeholder:"Ch\u1ECDn h\xE3ng xe"},renderFormItem:function(){return(0,r.jsx)(g.Uk,{noStyle:!0,rules:[]})},valueType:"select"},{title:"D\xF2ng xe",dataIndex:["vehicle","name"],key:"vehicle",width:150,fieldProps:{placeholder:"Ch\u1ECDn d\xF2ng xe"},renderFormItem:function(){return(0,r.jsx)(b.Z,{name:["company"],children:function(d){var y=d.company;return(0,r.jsx)(g.Mz,{params:{company:y},noStyle:!0,rules:[]})}})},valueType:"select"},{title:"T\xEAn ki\u1EC3u d\xE1ng",dataIndex:["car_style","name"],key:"car_style",width:150,fieldProps:{placeholder:"Ch\u1ECDn ki\u1EC3u d\xE1ng"},renderFormItem:function(){return(0,r.jsx)(g.YN,{noStyle:!0,rules:[]})},valueType:"select"},{title:"Lo\u1EA1i xe",dataIndex:["type_car","name"],key:"type_car",width:150,fieldProps:{placeholder:"Ch\u1ECDn lo\u1EA1i xe"},renderFormItem:function(){return(0,r.jsx)(g.mu,{noStyle:!0,rules:[]})},valueType:"select"},{title:"S\u1ED1 ch\u1ED7 ng\u1ED3i",dataIndex:"seat",width:150,search:!1},{title:s.formatMessage({id:"pages.createdAt",defaultMessage:"Ng\xE0y t\u1EA1o"}),dataIndex:"createdAt",valueType:"dateTime",width:150,search:!1,sorter:!0},{title:s.formatMessage({id:"pages.updatedAt",defaultMessage:"Ng\xE0y c\u1EADp nh\u1EADt"}),dataIndex:"updatedAt",valueType:"dateTime",width:150,search:!1,sorter:!0},{title:s.formatMessage({id:"pages.status",defaultMessage:"Tr\u1EA1ng th\xE1i"}),dataIndex:"status",width:100,renderText:function(p,d){return(0,r.jsx)(Te,{status:p,record:d})},fieldProps:{placeholder:s.formatMessage({id:"pages.status.placeholder",defaultMessage:"Ch\u1ECDn tr\u1EA1ng th\xE1i."})},valueType:"select",valueEnum:(0,k.Z0)(),hideInTable:!P.accessible([t.Kg.UPDATE_STATUS])},{title:s.formatMessage({id:"pages.options",defaultMessage:"Tu\u1EF3 ch\u1EC9nh"}),dataIndex:"option",valueType:"option",align:"center",fixed:"right",width:90,hideInTable:!P.accessible([t.Kg.UPDATE,t.Kg.COPY]),render:function(p,d){return[(0,r.jsx)(de.Z,{className:"".concat(P.className([t.Kg.UPDATE])),title:(0,k.sb)(),color:"cyan",placement:"left",children:(0,r.jsx)("a",{onClick:function(){W({type:"car/updateCarForm",payload:{itemEdit:d,type:t.Kg.UPDATE}})},children:(0,r.jsx)(M.Z,{style:{fontSize:"16px",color:"#08c"}})})},"update-car"),(0,r.jsx)(de.Z,{className:"".concat(P.className([t.Kg.COPY])),title:(0,k.wn)(),color:"cyan",placement:"left",children:(0,r.jsx)("a",{onClick:function(){W({type:"car/updateCarForm",payload:{itemEdit:d,type:t.Kg.COPY}})},children:(0,r.jsx)(j.Z,{style:{fontSize:"16px",color:"#08c"}})})},"copy-car"),(0,r.jsx)(de.Z,{className:"".concat(P.className([t.Kg.UPDATE_PASSWORD])),title:(0,k.iL)(),color:"cyan",placement:"left",children:(0,r.jsx)("a",{onClick:function(){W({type:"car/updateCarForm",payload:{itemEdit:d,type:t.Kg.UPDATE_PASSWORD}})},children:(0,r.jsx)(A.Z,{style:{fontSize:"16px",color:"red"}})})},"change-password-car")]}}];return(0,r.jsx)("div",{children:(0,r.jsx)(O.ZP,{headerTitle:s.formatMessage({id:"pages.Device.Car.CarList.headerTitle",defaultMessage:"Danh s\xE1ch xe"}),search:{layout:"vertical"},actionRef:$,rowKey:"id",sticky:!0,pagination:C()({},k.Uj),request:function(){var m=f()(v()().mark(function p(d,y,H){return v()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,(0,J.Zk)(d,y,H);case 2:return B.abrupt("return",B.sent);case 3:case"end":return B.stop()}},p)}));return function(p,d,y){return m.apply(this,arguments)}}(),toolBarRender:function(){return[(0,r.jsx)(je,{},"create-car")]},columns:a,scroll:k.V5})})},Oe=Ae,Ie=function(){return(0,r.jsxs)(n._z,{children:[(0,r.jsx)(Oe,{}),(0,r.jsx)(V,{})]})},Le=Ie},1978:function(X,F){F.Z={avatar:"avatar___vPqHP"}}}]);
