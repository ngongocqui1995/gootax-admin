"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[45],{94149:function(W,P,e){e.d(P,{Z:function(){return I}});var D=e(1413),C=e(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},g=R,O=e(91146),A=function($,K){return C.createElement(O.Z,(0,D.Z)((0,D.Z)({},$),{},{ref:K,icon:g}))};A.displayName="LockOutlined";var I=C.forwardRef(A)},8973:function(W,P,e){e.r(P),e.d(P,{default:function(){return ve}});var D=e(11774),C=e(67294),R=e(15009),g=e.n(R),O=e(99289),A=e.n(O),I=e(97857),x=e.n(I),$=e(5574),K=e.n($),k=e(5914),J=e(42075),Q=e(4393),X=e(83067),F=e(57813),n=e(62492),Y=e(952),h=e(32610),L=e(26382),a=e(85893),b={labelCol:{span:6},wrapperCol:{span:14}},w=function(){var o,p,v=(0,h.useDispatch)(),i=(0,h.useIntl)(),s=(0,h.useSelector)(function(d){return d==null?void 0:d.company}),l=(0,C.useState)(!1),r=K()(l,2),m=r[0],u=r[1],E=(0,C.useRef)(null),M=Y.ZP.useForm(),f=K()(M,1),y=f[0];(0,C.useEffect)(function(){(function(){var d,t;if((d=s.CompanyForm)!==null&&d!==void 0&&d.type){var T,j;((T=s.CompanyForm)===null||T===void 0?void 0:T.type)===n.Kg.CREATE&&y.resetFields(),[n.Kg.UPDATE,n.Kg.COPY].includes((j=s.CompanyForm)===null||j===void 0?void 0:j.type)&&y.setFieldsValue(x()({},s.CompanyForm.itemEdit))}u(!!((t=s.CompanyForm)!==null&&t!==void 0&&t.type))})()},[(o=s.CompanyForm)===null||o===void 0?void 0:o.type]);var ye=function(){var t;if((t=s.CompanyForm)!==null&&t!==void 0&&t.type)return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(X.HD,{})})},G=function(){v({type:"company/updateCompanyForm",payload:{type:""}}),y.resetFields()},fe=function(){var t;switch((t=s.CompanyForm)===null||t===void 0?void 0:t.type){case n.Kg.CREATE:case n.Kg.COPY:return i.formatMessage({id:"pages.Device.Company.CompanyForm.Create.title",defaultMessage:"Th\xEAm m\u1EDBi h\xE3ng xe"});case n.Kg.UPDATE:return i.formatMessage({id:"pages.Device.Company.CompanyForm.Update.title",defaultMessage:"C\u1EADp nh\u1EADt h\xE3ng xe"});default:return""}},Ce=function(){var t;switch((t=s.CompanyForm)===null||t===void 0?void 0:t.type){case n.Kg.CREATE:case n.Kg.COPY:return i.formatMessage({id:"pages.Device.Company.CompanyForm.Create.submitText",defaultMessage:"T\u1EA1o m\u1EDBi"});case n.Kg.UPDATE:return i.formatMessage({id:"pages.Device.Company.CompanyForm.Update.submitText",defaultMessage:"C\u1EADp nh\u1EADt"});default:return""}};return(0,a.jsx)(k.Z,{width:600,title:fe(),forceRender:!0,destroyOnClose:!0,visible:m,onCancel:G,footer:!1,children:(0,a.jsx)("div",{ref:E,children:(0,a.jsx)(Y.ZP,x()(x()({form:y},b),{},{layout:"horizontal",onFinish:function(){var d=A()(g()().mark(function t(T){var j,N,V,z,Z,B;return g()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:N=x()(x()({},T),{},{code:(0,F.uz)(T.name)}),c.t0=(j=s.CompanyForm)===null||j===void 0?void 0:j.type,c.next=c.t0===n.Kg.COPY||c.t0===n.Kg.CREATE?4:c.t0===n.Kg.UPDATE?8:12;break;case 4:return c.next=6,(0,L.e5)(N);case 6:return V=c.sent,c.abrupt("break",12);case 8:return c.next=10,(0,L.j1)(((z=s.CompanyForm.itemEdit)===null||z===void 0?void 0:z.id)||"",N);case 10:return V=c.sent,c.abrupt("break",12);case 12:V&&(G(),(Z=s.CompanyList)===null||Z===void 0||(B=Z.reload)===null||B===void 0||B.call(Z));case 13:case"end":return c.stop()}},t)}));return function(t){return d.apply(this,arguments)}}(),submitter:{render:function(t,T){return(0,a.jsx)(J.Z,{className:"flex justify-end mt-4",children:T})},searchConfig:{submitText:Ce(),resetText:i.formatMessage({id:"pages.Device.Company.CompanyForm.resetText",defaultMessage:"L\xE0m m\u1EDBi"})},resetButtonProps:{className:[n.Kg.UPDATE,n.Kg.UPDATE_PASSWORD].includes((p=s.CompanyForm)===null||p===void 0?void 0:p.type)?"hidden":""}},children:(0,a.jsx)(Q.Z,{children:ye()})}))})})},q=w,_=e(65987),ee=e(51767),ae=e(94149),ne=e(7842),H=e(9625),te=e(66309),U=e(83062),oe=e(72269),re=function(o){var p=o.status,v=o.record,i=(0,h.useSelector)(function(l){return l==null?void 0:l.company}),s=function(){var l=A()(g()().mark(function r(m){var u,E,M;return g()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,L.Gv)(v.id,m?"ACTIVE":"INACTIVE");case 2:M=y.sent,M&&((u=i.CompanyList)===null||u===void 0||(E=u.reload)===null||E===void 0||E.call(u));case 4:case"end":return y.stop()}},r)}));return function(m){return l.apply(this,arguments)}}();return(0,a.jsx)(oe.Z,{checked:p==="ACTIVE",onChange:s})},se=re,ie=e(51042),le=e(15867),de=function(){var o=(0,h.useDispatch)(),p=(0,H.Z)(),v=function(){o({type:"company/updateCompanyForm",payload:{type:n.Kg.CREATE}})};return(0,a.jsx)(le.ZP,{className:"".concat(p.className([n.Kg.CREATE])),type:"primary",onClick:v,icon:(0,a.jsx)(ie.Z,{}),children:(0,a.jsx)(h.FormattedMessage,{id:"pages.create",defaultMessage:"T\u1EA1o m\u1EDBi"})})},ce=de,me=function(){var o=(0,h.useIntl)(),p=(0,C.useRef)(),v=(0,h.useDispatch)(),i=(0,H.Z)();(0,C.useEffect)(function(){v({type:"company/updateCompanyList",payload:{reload:function(){var r;return(r=p.current)===null||r===void 0?void 0:r.reload()}}})},[]);var s=[{title:o.formatMessage({id:"pages.keyword",defaultMessage:"T\xECm theo"}),dataIndex:"keyword",hideInTable:!0,formItemProps:{tooltip:o.formatMessage({id:"pages.Device.Company.CompanyList.tooltip",defaultMessage:"B\u1EA1n c\xF3 th\u1EC3 t\xECm ki\u1EBFm theo t\xEAn."})},fieldProps:{placeholder:o.formatMessage({id:"pages.Device.Company.CompanyList.placeholder",defaultMessage:"Nh\u1EADp m\xE3, t\xEAn."})}},{title:"M\xE3 h\xE3ng xe",dataIndex:"code",width:120,search:!1,renderText:function(r){return r&&(0,a.jsx)(te.Z,{color:"default",children:r})}},{title:"T\xEAn h\xE3ng xe",dataIndex:"name",width:150,search:!1},{title:o.formatMessage({id:"pages.createdAt",defaultMessage:"Ng\xE0y t\u1EA1o"}),dataIndex:"createdAt",valueType:"dateTime",width:150,search:!1,sorter:!0},{title:o.formatMessage({id:"pages.updatedAt",defaultMessage:"Ng\xE0y c\u1EADp nh\u1EADt"}),dataIndex:"updatedAt",valueType:"dateTime",width:150,search:!1,sorter:!0},{title:o.formatMessage({id:"pages.status",defaultMessage:"Tr\u1EA1ng th\xE1i"}),dataIndex:"status",width:100,renderText:function(r,m){return(0,a.jsx)(se,{status:r,record:m})},fieldProps:{placeholder:o.formatMessage({id:"pages.status.placeholder",defaultMessage:"Ch\u1ECDn tr\u1EA1ng th\xE1i."})},valueType:"select",valueEnum:(0,F.Z0)(),hideInTable:!i.accessible([n.Kg.UPDATE_STATUS])},{title:o.formatMessage({id:"pages.options",defaultMessage:"Tu\u1EF3 ch\u1EC9nh"}),dataIndex:"option",valueType:"option",align:"center",fixed:"right",width:90,hideInTable:!i.accessible([n.Kg.UPDATE,n.Kg.COPY]),render:function(r,m){return[(0,a.jsx)(U.Z,{className:"".concat(i.className([n.Kg.UPDATE])),title:(0,F.sb)(),color:"cyan",placement:"left",children:(0,a.jsx)("a",{onClick:function(){v({type:"company/updateCompanyForm",payload:{itemEdit:m,type:n.Kg.UPDATE}})},children:(0,a.jsx)(_.Z,{style:{fontSize:"16px",color:"#08c"}})})},"update-company"),(0,a.jsx)(U.Z,{className:"".concat(i.className([n.Kg.COPY])),title:(0,F.wn)(),color:"cyan",placement:"left",children:(0,a.jsx)("a",{onClick:function(){v({type:"company/updateCompanyForm",payload:{itemEdit:m,type:n.Kg.COPY}})},children:(0,a.jsx)(ee.Z,{style:{fontSize:"16px",color:"#08c"}})})},"copy-company"),(0,a.jsx)(U.Z,{className:"".concat(i.className([n.Kg.UPDATE_PASSWORD])),title:(0,F.iL)(),color:"cyan",placement:"left",children:(0,a.jsx)("a",{onClick:function(){v({type:"company/updateCompanyForm",payload:{itemEdit:m,type:n.Kg.UPDATE_PASSWORD}})},children:(0,a.jsx)(ae.Z,{style:{fontSize:"16px",color:"red"}})})},"change-password-company")]}}];return(0,a.jsx)("div",{children:(0,a.jsx)(ne.ZP,{headerTitle:o.formatMessage({id:"pages.Device.Company.CompanyList.headerTitle",defaultMessage:"Danh s\xE1ch h\xE3ng xe"}),search:{layout:"vertical"},actionRef:p,rowKey:"id",sticky:!0,pagination:x()({},F.Uj),request:function(){var l=A()(g()().mark(function r(m,u,E){return g()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,L.EA)(m,u,E);case 2:return f.abrupt("return",f.sent);case 3:case"end":return f.stop()}},r)}));return function(r,m,u){return l.apply(this,arguments)}}(),toolBarRender:function(){return[(0,a.jsx)(ce,{},"create-company")]},columns:s,scroll:F.V5})})},ue=me,pe=function(){return(0,a.jsxs)(D._z,{children:[(0,a.jsx)(ue,{}),(0,a.jsx)(q,{})]})},ve=pe}}]);
