"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[431],{94149:function(J,L,e){e.d(L,{Z:function(){return V}});var S=e(1413),F=e(67294),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},C=N,U=e(91146),w=function(z,$){return F.createElement(U.Z,(0,S.Z)((0,S.Z)({},z),{},{ref:$,icon:C}))};w.displayName="LockOutlined";var V=F.forwardRef(w)},16117:function(J,L,e){e.r(L),e.d(L,{default:function(){return ge}});var S=e(11774),F=e(67294),N=e(15009),C=e.n(N),U=e(99289),w=e.n(U),V=e(97857),j=e.n(V),z=e(5574),$=e.n(z),X=e(5914),b=e(42075),q=e(4393),I=e(83067),P=e(57813),t=e(62492),H=e(952),Q=e(97462),x=e(32610),O=e(43945),r=e(85893),_={labelCol:{span:6},wrapperCol:{span:14}},ee=function(){var o,g,y=(0,x.useDispatch)(),c=(0,x.useIntl)(),a=(0,x.useSelector)(function(v){return v==null?void 0:v.ward}),i=(0,F.useState)(!1),n=$()(i,2),l=n[0],u=n[1],E=(0,F.useRef)(null),K=H.ZP.useForm(),W=$()(K,1),f=W[0];(0,F.useEffect)(function(){(function(){var v,d;if((v=a.WardForm)!==null&&v!==void 0&&v.type){var m,p;if(((m=a.WardForm)===null||m===void 0?void 0:m.type)===t.Kg.CREATE&&f.resetFields(),[t.Kg.UPDATE,t.Kg.COPY].includes((p=a.WardForm)===null||p===void 0?void 0:p.type)){var h,T;f.setFieldsValue(j()(j()({},a.WardForm.itemEdit),{},{province:(h=a.WardForm.itemEdit)===null||h===void 0?void 0:h.province.id,district:(T=a.WardForm.itemEdit)===null||T===void 0?void 0:T.district.id}))}}u(!!((d=a.WardForm)!==null&&d!==void 0&&d.type))})()},[(o=a.WardForm)===null||o===void 0?void 0:o.type]);var ye=function(){var d,m,p,h;if((d=a.WardForm)!==null&&d!==void 0&&d.type)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.Ig,{type:(m=a.WardForm)===null||m===void 0?void 0:m.type,defaultOptions:[{value:((p=a.WardForm.itemEdit)===null||p===void 0?void 0:p.province.id)||"",label:((h=a.WardForm.itemEdit)===null||h===void 0?void 0:h.province.name)||""}],fieldProps:{onChange:function(){f.setFieldsValue({district:void 0})}}}),(0,r.jsx)(Q.Z,{name:["province"],children:function(Z){var A,M,R,s,Y,Fe=Z.province;return(0,r.jsx)(I.aQ,{params:{province:Fe},type:(A=a.WardForm)===null||A===void 0?void 0:A.type,defaultOptions:[{value:((M=a.WardForm)===null||M===void 0||(R=M.itemEdit)===null||R===void 0?void 0:R.district.id)||"",label:((s=a.WardForm)===null||s===void 0||(Y=s.itemEdit)===null||Y===void 0?void 0:Y.district.name)||""}]})}}),(0,r.jsx)(I.HD,{})]})},k=function(){y({type:"ward/updateWardForm",payload:{type:""}}),f.resetFields()},We=function(){var d;switch((d=a.WardForm)===null||d===void 0?void 0:d.type){case t.Kg.CREATE:case t.Kg.COPY:return c.formatMessage({id:"pages.Area.Ward.WardForm.Create.title",defaultMessage:"Th\xEAm m\u1EDBi ph\u01B0\u1EDDng/x\xE3"});case t.Kg.UPDATE:return c.formatMessage({id:"pages.Area.Ward.WardForm.Update.title",defaultMessage:"C\u1EADp nh\u1EADt ph\u01B0\u1EDDng/x\xE3"});default:return""}},Te=function(){var d;switch((d=a.WardForm)===null||d===void 0?void 0:d.type){case t.Kg.CREATE:case t.Kg.COPY:return c.formatMessage({id:"pages.Area.Ward.WardForm.Create.submitText",defaultMessage:"T\u1EA1o m\u1EDBi"});case t.Kg.UPDATE:return c.formatMessage({id:"pages.Area.Ward.WardForm.Update.submitText",defaultMessage:"C\u1EADp nh\u1EADt"});default:return""}};return(0,r.jsx)(X.Z,{width:800,title:We(),forceRender:!0,destroyOnClose:!0,visible:l,onCancel:k,footer:!1,children:(0,r.jsx)("div",{ref:E,children:(0,r.jsx)(H.ZP,j()(j()({form:f},_),{},{layout:"horizontal",onFinish:function(){var v=w()(C()().mark(function d(m){var p,h,T,Z,A,M;return C()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:h=j()({code:(0,P.uz)(m.name)},m),s.t0=(p=a.WardForm)===null||p===void 0?void 0:p.type,s.next=s.t0===t.Kg.COPY||s.t0===t.Kg.CREATE?4:s.t0===t.Kg.UPDATE?8:12;break;case 4:return s.next=6,(0,O.t6)(h);case 6:return T=s.sent,s.abrupt("break",12);case 8:return s.next=10,(0,O.wc)(((Z=a.WardForm.itemEdit)===null||Z===void 0?void 0:Z.id)||"",h);case 10:return T=s.sent,s.abrupt("break",12);case 12:T&&(k(),(A=a.WardList)===null||A===void 0||(M=A.reload)===null||M===void 0||M.call(A));case 13:case"end":return s.stop()}},d)}));return function(d){return v.apply(this,arguments)}}(),submitter:{render:function(d,m){return(0,r.jsx)(b.Z,{className:"flex justify-end mt-4",children:m})},searchConfig:{submitText:Te(),resetText:c.formatMessage({id:"pages.Area.Ward.WardForm.resetText",defaultMessage:"L\xE0m m\u1EDBi"})},resetButtonProps:{className:[t.Kg.UPDATE].includes((g=a.WardForm)===null||g===void 0?void 0:g.type)?"hidden":""}},children:(0,r.jsx)(q.Z,{children:ye()})}))})})},re=ee,ae=e(65987),te=e(51767),ne=e(94149),de=e(7842),G=e(9625),oe=e(66309),B=e(83062),se=e(72269),ie=function(o){var g=o.status,y=o.record,c=(0,x.useSelector)(function(i){return i==null?void 0:i.ward}),a=function(){var i=w()(C()().mark(function n(l){var u,E,K;return C()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,O.C5)(y.id,l?"ACTIVE":"INACTIVE");case 2:K=f.sent,K&&((u=c.WardList)===null||u===void 0||(E=u.reload)===null||E===void 0||E.call(u));case 4:case"end":return f.stop()}},n)}));return function(l){return i.apply(this,arguments)}}();return(0,r.jsx)(se.Z,{checked:g==="ACTIVE",onChange:a})},le=ie,ue=e(51042),ce=e(15867),ve=function(){var o=(0,x.useDispatch)(),g=(0,G.Z)(),y=function(){o({type:"ward/updateWardForm",payload:{type:t.Kg.CREATE}})};return(0,r.jsx)(ce.ZP,{className:"".concat(g.className([t.Kg.CREATE])),type:"primary",onClick:y,icon:(0,r.jsx)(ue.Z,{}),children:(0,r.jsx)(x.FormattedMessage,{id:"pages.create",defaultMessage:"T\u1EA1o m\u1EDBi"})})},me=ve,fe=function(){var o=(0,x.useIntl)(),g=(0,F.useRef)(),y=(0,x.useDispatch)(),c=(0,G.Z)();(0,F.useEffect)(function(){y({type:"ward/updateWardList",payload:{reload:function(){var n;return(n=g.current)===null||n===void 0?void 0:n.reload()}}})},[]);var a=[{title:o.formatMessage({id:"pages.keyword",defaultMessage:"T\xECm theo"}),dataIndex:"keyword",hideInTable:!0,formItemProps:{tooltip:o.formatMessage({id:"pages.Area.Ward.WardList.tooltip",defaultMessage:"B\u1EA1n c\xF3 th\u1EC3 t\xECm ki\u1EBFm theo t\xEAn, s\u1ED1 \u0111i\u1EC7n tho\u1EA1i."})},fieldProps:{placeholder:o.formatMessage({id:"pages.Area.Ward.WardList.placeholder",defaultMessage:"Nh\u1EADp m\xE3, t\xEAn, s\u1ED1 \u0111i\u1EC7n tho\u1EA1i."})}},{title:"T\u1EC9nh/Th\xE0nh ph\u1ED1",dataIndex:["province","name"],key:"province",width:150,fieldProps:{placeholder:"Ch\u1ECDn t\u1EC9nh/th\xE0nh ph\u1ED1"},renderFormItem:function(n,l,u){return(0,r.jsx)(I.Ig,{noStyle:!0,rules:[],fieldProps:{onChange:function(){u.setFieldsValue({district:void 0})}}})},valueType:"select"},{title:"Qu\u1EADn/Huy\u1EC7n",dataIndex:["district","name"],key:"district",width:150,fieldProps:{placeholder:"Ch\u1ECDn qu\u1EADn/huy\u1EC7n"},renderFormItem:function(){return(0,r.jsx)(Q.Z,{name:["province"],children:function(l){var u=l.province;return(0,r.jsx)(I.aQ,{params:{province:u},noStyle:!0,rules:[]})}})},valueType:"select"},{title:"M\xE3 ph\u01B0\u1EDDng/x\xE3",dataIndex:"code",width:120,search:!1,renderText:function(n){return n&&(0,r.jsx)(oe.Z,{color:"default",children:n})}},{title:"T\xEAn ph\u01B0\u1EDDng/x\xE3",dataIndex:"name",width:150,search:!1},{title:o.formatMessage({id:"pages.createdAt",defaultMessage:"Ng\xE0y t\u1EA1o"}),dataIndex:"createdAt",valueType:"dateTime",width:150,search:!1,sorter:!0},{title:o.formatMessage({id:"pages.updatedAt",defaultMessage:"Ng\xE0y c\u1EADp nh\u1EADt"}),dataIndex:"updatedAt",valueType:"dateTime",width:150,search:!1,sorter:!0},{title:o.formatMessage({id:"pages.status",defaultMessage:"Tr\u1EA1ng th\xE1i"}),dataIndex:"status",width:100,renderText:function(n,l){return(0,r.jsx)(le,{status:n,record:l})},fieldProps:{placeholder:o.formatMessage({id:"pages.status.placeholder",defaultMessage:"Ch\u1ECDn tr\u1EA1ng th\xE1i."})},valueType:"select",valueEnum:(0,P.Z0)(),hideInTable:!c.accessible([t.Kg.UPDATE_STATUS])},{title:o.formatMessage({id:"pages.options",defaultMessage:"Tu\u1EF3 ch\u1EC9nh"}),dataIndex:"option",valueType:"option",align:"center",fixed:"right",width:90,hideInTable:!c.accessible([t.Kg.UPDATE,t.Kg.COPY]),render:function(n,l){return[(0,r.jsx)(B.Z,{className:"".concat(c.className([t.Kg.UPDATE])),title:(0,P.sb)(),color:"cyan",placement:"left",children:(0,r.jsx)("a",{onClick:function(){y({type:"ward/updateWardForm",payload:{itemEdit:l,type:t.Kg.UPDATE}})},children:(0,r.jsx)(ae.Z,{style:{fontSize:"16px",color:"#08c"}})})},"update-ward"),(0,r.jsx)(B.Z,{className:"".concat(c.className([t.Kg.COPY])),title:(0,P.wn)(),color:"cyan",placement:"left",children:(0,r.jsx)("a",{onClick:function(){y({type:"ward/updateWardForm",payload:{itemEdit:l,type:t.Kg.COPY}})},children:(0,r.jsx)(te.Z,{style:{fontSize:"16px",color:"#08c"}})})},"copy-ward"),(0,r.jsx)(B.Z,{className:"".concat(c.className([t.Kg.UPDATE_PASSWORD])),title:(0,P.iL)(),color:"cyan",placement:"left",children:(0,r.jsx)("a",{onClick:function(){y({type:"ward/updateWardForm",payload:{itemEdit:l,type:t.Kg.UPDATE_PASSWORD}})},children:(0,r.jsx)(ne.Z,{style:{fontSize:"16px",color:"red"}})})},"change-password-ward")]}}];return(0,r.jsx)("div",{children:(0,r.jsx)(de.ZP,{headerTitle:o.formatMessage({id:"pages.Area.Ward.WardList.headerTitle",defaultMessage:"Danh s\xE1ch ph\u01B0\u1EDDng/x\xE3"}),search:{layout:"vertical"},actionRef:g,rowKey:"id",sticky:!0,pagination:j()({},P.Uj),request:function(){var i=w()(C()().mark(function n(l,u,E){return C()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,(0,O.in)(l,u,E);case 2:return W.abrupt("return",W.sent);case 3:case"end":return W.stop()}},n)}));return function(n,l,u){return i.apply(this,arguments)}}(),toolBarRender:function(){return[(0,r.jsx)(me,{},"create-ward")]},columns:a,scroll:P.V5})})},pe=fe,he=function(){return(0,r.jsxs)(S._z,{children:[(0,r.jsx)(pe,{}),(0,r.jsx)(re,{})]})},ge=he}}]);
