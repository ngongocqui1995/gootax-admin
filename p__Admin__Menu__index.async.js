"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[780],{95630:function(Me,R,e){e.r(R),e.d(R,{default:function(){return ve}});var Y=e(15009),T=e.n(Y),G=e(99289),K=e.n(G),X=e(97857),E=e.n(X),H=e(5574),S=e.n(H),J=e(5914),Q=e(42075),W=e(4393),C=e(67294),U=e(83067),P=e(59497),s=e(62492),N=e(952),f=e(32610),t=e(85893),w={labelCol:{span:6},wrapperCol:{span:14}},b=function(){var r,i,c,d,F=(0,f.useDispatch)(),o=(0,f.useIntl)(),n=(0,f.useSelector)(function(l){return l==null?void 0:l.menu}),a=(0,C.useState)(!1),u=S()(a,2),m=u[0],A=u[1],v=(0,C.useRef)(null),M=N.ZP.useForm(),fe=S()(M,1),Z=fe[0];(0,C.useEffect)(function(){(function(){var l,g;if((l=n.MenuForm)!==null&&l!==void 0&&l.type){var p,h,y;((p=n.MenuForm)===null||p===void 0?void 0:p.type)===s.Kg.CREATE&&Z.resetFields(),(((h=n.MenuForm)===null||h===void 0?void 0:h.type)===s.Kg.UPDATE||((y=n.MenuForm)===null||y===void 0?void 0:y.type)===s.Kg.COPY)&&Z.setFieldsValue(E()({},n.MenuForm.itemEdit))}A(!!((g=n.MenuForm)!==null&&g!==void 0&&g.type))})()},[(r=n.MenuForm)===null||r===void 0?void 0:r.type]);var pe=function(){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(U.fj,{}),(0,t.jsx)(U.dt,{})]})},O=function(){F({type:"menu/updateMenuForm",payload:{type:""}}),Z.resetFields()};return(0,t.jsx)(J.Z,{width:600,title:((i=n.MenuForm)===null||i===void 0?void 0:i.type)===s.Kg.UPDATE?o.formatMessage({id:"pages.Admin.Menu.MenuForm.Update.title",defaultMessage:"C\u1EADp nh\u1EADt menu"}):o.formatMessage({id:"pages.Admin.Menu.MenuForm.Create.title",defaultMessage:"Th\xEAm m\u1EDBi menu"}),forceRender:!0,destroyOnClose:!0,visible:m,onCancel:O,footer:!1,children:(0,t.jsx)("div",{ref:v,children:(0,t.jsx)(N.ZP,E()(E()({form:Z},w),{},{layout:"horizontal",onFinish:function(){var l=K()(T()().mark(function g(p){var h,y,L,z,I,D;return T()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,((h=n.MenuForm)===null||h===void 0?void 0:h.type)===s.Kg.UPDATE?(0,P._8)(((y=n.MenuForm)===null||y===void 0||(L=y.itemEdit)===null||L===void 0?void 0:L.id)||"",p):(0,P.ZT)(p);case 2:z=j.sent,z&&(O(),(I=n.MenuList)===null||I===void 0||(D=I.reload)===null||D===void 0||D.call(I));case 4:case"end":return j.stop()}},g)}));return function(g){return l.apply(this,arguments)}}(),submitter:{render:function(g,p){return(0,t.jsx)(Q.Z,{className:"flex justify-end mt-4",children:p})},searchConfig:{submitText:((c=n.MenuForm)===null||c===void 0?void 0:c.type)===s.Kg.UPDATE?o.formatMessage({id:"pages.Admin.Menu.MenuForm.Update.submitText",defaultMessage:"C\u1EADp nh\u1EADt"}):o.formatMessage({id:"pages.Admin.Menu.MenuForm.Create.submitText",defaultMessage:"T\u1EA1o m\u1EDBi"}),resetText:o.formatMessage({id:"pages.Admin.Menu.MenuForm.resetText",defaultMessage:"L\xE0m m\u1EDBi"})},resetButtonProps:{className:((d=n.MenuForm)===null||d===void 0?void 0:d.type)===s.Kg.UPDATE?"hidden":""}},children:(0,t.jsx)(W.Z,{children:pe()})}))})})},k=b,x=e(57813),q=e(65987),_=e(51767),ee=e(7842),te=e(66309),V=e(83062),B=e(9625),ne=e(72269),ae=function(r){var i=r.status,c=r.record,d=(0,f.useSelector)(function(o){return o==null?void 0:o.menu}),F=function(){var o=K()(T()().mark(function n(a){var u,m,A;return T()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,P.lG)(c.id,a?"ACTIVE":"INACTIVE");case 2:A=M.sent,A&&((u=d.MenuList)===null||u===void 0||(m=u.reload)===null||m===void 0||m.call(u));case 4:case"end":return M.stop()}},n)}));return function(a){return o.apply(this,arguments)}}();return(0,t.jsx)(ne.Z,{checked:i==="ACTIVE",onChange:F})},re=ae,se=e(51042),oe=e(15867),ue=function(){var r=(0,f.useDispatch)(),i=(0,B.Z)(),c=function(){r({type:"menu/updateMenuForm",payload:{type:s.Kg.CREATE}})};return(0,t.jsx)(oe.ZP,{className:"".concat(i.className([s.Kg.CREATE])),type:"primary",onClick:c,icon:(0,t.jsx)(se.Z,{}),children:(0,t.jsx)(f.FormattedMessage,{id:"pages.create",defaultMessage:"T\u1EA1o m\u1EDBi"})})},le=ue,ie=function(){var r=(0,f.useIntl)(),i=(0,f.useDispatch)(),c=(0,C.useRef)(),d=(0,B.Z)();(0,C.useEffect)(function(){i({type:"menu/updateMenuList",payload:{reload:function(){var n;return(n=c.current)===null||n===void 0?void 0:n.reload()}}})},[]);var F=[{title:r.formatMessage({id:"pages.keyword",defaultMessage:"T\xECm theo"}),dataIndex:"keyword",hideInTable:!0,formItemProps:{tooltip:r.formatMessage({id:"pages.Admin.Menu.MenuList.tooltip",defaultMessage:"B\u1EA1n c\xF3 th\u1EC3 t\xECm ki\u1EBFm theo url."})},fieldProps:{placeholder:r.formatMessage({id:"pages.Admin.Menu.MenuList.placeholder",defaultMessage:"Nh\u1EADp url."})}},{title:r.formatMessage({id:"pages.url",defaultMessage:"Url"}),dataIndex:"url",width:250,search:!1},{title:r.formatMessage({id:"pages.type",defaultMessage:"Lo\u1EA1i"}),dataIndex:"type",fieldProps:{placeholder:r.formatMessage({id:"pages.type.placeholder",defaultMessage:"Ch\u1ECDn lo\u1EA1i."})},width:120,filters:!0,onFilter:!0,valueType:"select",valueEnum:(0,x.Xw)(),renderText:function(n,a){var u,m;return(a==null?void 0:a.type)&&(0,t.jsx)(te.Z,{color:(u=s.ho[a==null?void 0:a.type])===null||u===void 0?void 0:u.color,children:(m=s.ho[a==null?void 0:a.type])===null||m===void 0?void 0:m.text})}},{title:r.formatMessage({id:"pages.createdAt",defaultMessage:"Ng\xE0y t\u1EA1o"}),dataIndex:"createdAt",valueType:"dateTime",width:150,search:!1,sorter:!0},{title:r.formatMessage({id:"pages.updatedAt",defaultMessage:"Ng\xE0y c\u1EADp nh\u1EADt"}),dataIndex:"updatedAt",valueType:"dateTime",width:150,search:!1,sorter:!0},{title:r.formatMessage({id:"pages.status",defaultMessage:"Tr\u1EA1ng th\xE1i"}),dataIndex:"status",width:100,renderText:function(n,a){return(0,t.jsx)(re,{status:n,record:a})},fieldProps:{placeholder:r.formatMessage({id:"pages.status.placeholder",defaultMessage:"Ch\u1ECDn tr\u1EA1ng th\xE1i."})},valueType:"select",valueEnum:(0,x.Z0)(),hideInTable:!d.accessible([s.Kg.UPDATE_STATUS])},{title:r.formatMessage({id:"pages.options",defaultMessage:"Tu\u1EF3 ch\u1EC9nh"}),dataIndex:"option",valueType:"option",align:"center",fixed:"right",width:90,hideInTable:!d.accessible([s.Kg.UPDATE,s.Kg.COPY]),render:function(n,a){return[(0,t.jsx)(V.Z,{className:"".concat(d.className([s.Kg.UPDATE])),title:(0,x.sb)(),color:"cyan",placement:"left",children:(0,t.jsx)("a",{onClick:function(){i({type:"menu/updateMenuForm",payload:{itemEdit:a,type:s.Kg.UPDATE}})},children:(0,t.jsx)(q.Z,{style:{fontSize:"16px",color:"#08c"}})})},"update-menu"),(0,t.jsx)(V.Z,{className:"".concat(d.className([s.Kg.COPY])),title:(0,x.wn)(),color:"cyan",placement:"left",children:(0,t.jsx)("a",{onClick:function(){i({type:"menu/updateMenuForm",payload:{itemEdit:a,type:s.Kg.COPY}})},children:(0,t.jsx)(_.Z,{style:{fontSize:"16px",color:"#08c"}})})},"copy-menu")]}}];return(0,t.jsx)("div",{children:(0,t.jsx)(ee.ZP,{headerTitle:r.formatMessage({id:"pages.Admin.Menu.MenuList.headerTitle",defaultMessage:"Danh s\xE1ch Menu"}),search:{layout:"vertical"},actionRef:c,rowKey:"id",sticky:!0,pagination:E()({},x.Uj),request:function(){var o=K()(T()().mark(function n(a,u,m){return T()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,P.rt)(a,u,m);case 2:return v.abrupt("return",v.sent);case 3:case"end":return v.stop()}},n)}));return function(n,a,u){return o.apply(this,arguments)}}(),toolBarRender:function(){return[(0,t.jsx)(le,{},"create-menu")]},columns:F,scroll:x.V5})})},de=ie,me=e(11774),ce=function(){return(0,t.jsxs)(me._z,{children:[(0,t.jsx)(k,{}),(0,t.jsx)(de,{})]})},ve=ce}}]);
